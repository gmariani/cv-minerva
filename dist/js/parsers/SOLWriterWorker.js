!function(){importScripts("https://cdn.mariani.life/projects/minerva/js/lib/ByteArray.js","https://cdn.mariani.life/projects/minerva/js/lib/AMF0.js","https://cdn.mariani.life/projects/minerva/js/lib/AMF3.js");var e=new AMF0,t=new AMF3;onmessage=function(r){var i=r.data.fileName,a=r.data.amfVersion,n=r.data.data,s=new ByteArray(null,ByteArray.LITTLE_ENDIAN),y=new ByteArray(null,ByteArray.LITTLE_ENDIAN);for(var w in e.reset(),t.reset(),y.writeUTFBytes("TCSO"),y.writeByte(0),y.writeByte(4),y.writeByte(0),y.writeByte(0),y.writeByte(0),y.writeByte(0),y.writeUTF(i),y.writeUnsignedInt(a),n)3==a?(t.writeString(y,w),t.writeData(y,n[w])):(y.writeUTF(w),e.writeData(y,n[w])),y.writeByte(0);s.writeByte(0),s.writeByte(191),s.writeUnsignedInt(y.position),s.writeBytes(y),r.data.filePath&&(s.writeByte(0),s.writeByte(255),(y=new ByteArray(null,ByteArray.LITTLE_ENDIAN)).writeUTF(r.data.filePath),s.writeUnsignedInt(y.position),s.writeBytes(y));var o=new Int8Array(s._buffer.slice(0,s.position));try{o=Array.apply([],o)}catch(e){throw"RangeError"==e.name&&"Maximum call stack size exceeded"==e.message?RangeError("Too many elements in SOL file to process in your current browser."):e}postMessage({data:o})}}();